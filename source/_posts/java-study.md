---
title: Java 基础
categories: 技术分享    
---
# 8种基本类型
    char,boolean,byte,int,long,float,double   

# 1.JVM 
    Java 虚拟机就是一个字节码翻译器，它将字节码文件翻译成各个系统对应的机器码，确保字节码文件能在各个系统正确运行。

## 编译器
    前端编译器：Sun——javac、Eclipse JDT(ECJ)
    	将java源文件编译成字节码
    JIT编译器：字节码到机器码
        当源代码转化为字节码之后，其实要运行程序，有两种选择。一种是使用 Java 解释器解释执行字节码，另一种则是使用 JIT 编译器将字节码转化为本地机器代码。

## 内存结构

![](/img/jvm.png)   

    共有：java堆
         方法区
         常量池
        Eden：from ：to = 8:1:1
    私有：程序计数器——指向虚拟机字节码指令的位置；唯一一个无OOM的区域
         java虚拟机栈——生命周期同县城；一个线程中每调用一个方法创建一个栈帧；栈帧结构【本地变量表】
         本地方去栈


## JVM 类加载
    JVM 虚拟机执行 class 字节码的过程可以分为七个阶段：
    加载-将字节码转化为二进制字节流加载到内存中、验证、准备、解析、初始化、使用、卸载。
## 垃圾回收
    引用计数、根可达
    标记清除算法：产生不连续内存碎片
    复制算法：空间利用率低
    标记压缩：
## 垃圾回收器
    串行回收器、并行回收器、CMS回收器、G1回收器

    Serial收集器：单线程；简单高效；收集过程暂停所有线程；复制算法
    ParNew收集器：多线程版Serial；
    ParallelScavenge收集器：复制算法 注重吞吐量

    Serial Old 单线程；标记-整理算法
    Parallel Old ：多线程；标记-整理算法 吞吐量优先

    CMS收集器：最短回收停顿时间；标记-清除算法；并发收集、低停顿；产生大量空间碎片、并发阶段降低吞吐量
        初始标记：标记GC ROOTs能关联的对象   STW
        并发标记：进行GC Roots Tracing
        重新标记：修改并发标记因用户程序变动的内容 STW
        并发清除

    G1收集器：并行与并发、分代收集、空间整合（标记-整理）；将整个Java堆分为多个大小相等的独立区域；分代不是物理隔离
        初始标记：标记GC Roots能够关联的对象，并且修改TAMS的值，需要暂停用户线程
        并发标记：从GC Roots进行可达分析，找出存活对象，与用户线程并发执行
        最终标记：修正并发标记阶段因用户程序的并发执行导致的变动数据，需要暂停用户线程
        筛选回收：对各个Reion的回收价值和成本进行排序，根据用户所期望的GC停顿时间指定回收计划

# 引用
## 强引用
    强引用所指向的对象在任何时候都不会被系统回收，强引用可能导致内存泄漏。
## 软引用
    
## 弱引用
## 需引用
        
# 集合
## set
### HashSet
    无序，不可重复
    底层用Hash表实现
    存取数据块
    内部是hashmap
### TreeSet
    无序，不可重复
    底层用二叉树
    排序存储
    内部是TreeMap的SortedSet
### LinkedHashSet
    采用hash表存储，并用双向聊表记录插入顺序
    哪不是LinkedHashMap
## list
### arraylist
    排列有序，可重复
    底层用数据
    查询快，增删慢，getter setter 快
    线程不安全
    扩容 *1.5+1

### vector
    有序，可重复
    数组
    查询快，增删慢
    线程安全、效率低
    扩容 *1

### linkedlist
    有序，可重复
    双向链表
    查询慢，增删快   add remove 快
    线程不安全

## queue
    在两端出入的List，可用数组或连标实现

## map
### HashMap
    键不可重复，
    底层hash表
    线程不安全
    允许key=null（唯一）
### HashTable
    键不可重复
    底层hash表
    线程安全
    key、value都不能为null
### TreeMap
    建不可重复
    底层二叉树
